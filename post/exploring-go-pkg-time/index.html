<!doctype html><html lang>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> Exploring go pkg - time | </title>
<link rel=canonical href=/post/exploring-go-pkg-time/>
<meta name=description content="Software Engineer | Go | Microservices | Docker | Kubernetes | Avid Reader">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="Exploring go pkg - time">
<meta property="og:description" content="Exploring go pkg - time Go&rsquo;s time package provides a number of functions and types for working with dates and times. Go time formatting is different from other languages. The primary layouts used by the time package are described below.
const ( UnixDate = &#34;Mon Jan _2 15:04:05 MST 2006&#34; RFC1123 = &#34;Mon, 02 Jan 2006 15:04:05 MST&#34; RFC1123Z = &#34;Mon, 02 Jan 2006 15:04:05 -0700&#34; // RFC1123 with numeric zone  RFC3339 = &#34;2006-01-02T15:04:05Z07:00&#34; RFC3339Nano = &#34;2006-01-02T15:04:05.">
<meta property="og:type" content="article">
<meta property="og:url" content="/post/exploring-go-pkg-time/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2021-09-12T18:29:08+05:30">
<meta property="article:modified_time" content="2021-09-12T18:29:08+05:30">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Exploring go pkg - time">
<meta name=twitter:description content="Exploring go pkg - time Go&rsquo;s time package provides a number of functions and types for working with dates and times. Go time formatting is different from other languages. The primary layouts used by the time package are described below.
const ( UnixDate = &#34;Mon Jan _2 15:04:05 MST 2006&#34; RFC1123 = &#34;Mon, 02 Jan 2006 15:04:05 MST&#34; RFC1123Z = &#34;Mon, 02 Jan 2006 15:04:05 -0700&#34; // RFC1123 with numeric zone  RFC3339 = &#34;2006-01-02T15:04:05Z07:00&#34; RFC3339Nano = &#34;2006-01-02T15:04:05.">
<link rel=stylesheet href=/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=images/favicon.ico>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<header id=header>
<a href>
<div id=logo style=background-image:url(https://golang.org/doc/gopher/favicon.svg)></div>
<div id=title>
<h1></h1>
</div>
</a>
<div id=nav>
<ul>
<li class=icon>
<a href=# aria-label=Menu><i class="fas fa-bars fa-2x" aria-hidden=true></i></a>
</li>
<li><a href=/>Home</a></li>
<li><a href=/thoughts>Thoughts</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</div>
</header>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<div class=content itemprop=articleBody>
<h1 id=exploring-go-pkg---time>Exploring go pkg - time</h1>
<p>Go&rsquo;s time package provides a number of functions and types for working with dates and times. Go time formatting is different from other languages. The primary layouts used by the time package are described below.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>    <span style=color:#66d9ef>const</span> (
        <span style=color:#a6e22e>UnixDate</span>    = <span style=color:#e6db74>&#34;Mon Jan _2 15:04:05 MST 2006&#34;</span>
        <span style=color:#a6e22e>RFC1123</span>     = <span style=color:#e6db74>&#34;Mon, 02 Jan 2006 15:04:05 MST&#34;</span>
        <span style=color:#a6e22e>RFC1123Z</span>    = <span style=color:#e6db74>&#34;Mon, 02 Jan 2006 15:04:05 -0700&#34;</span> <span style=color:#75715e>// RFC1123 with numeric zone
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>RFC3339</span>     = <span style=color:#e6db74>&#34;2006-01-02T15:04:05Z07:00&#34;</span>
        <span style=color:#a6e22e>RFC3339Nano</span> = <span style=color:#e6db74>&#34;2006-01-02T15:04:05.999999999Z07:00&#34;</span>
    )
</code></pre></div><p>You can define your own formats using the constants.</p>
<p>Personally, I prefer to use the <code>RFC3339</code> format. One should use the RFC822, RFC850, and RFC1123 formats with local times.</p>
<blockquote>
<h4 id=info-timeduration-is-the-unit-used-to-denote-nanosecond>INFO: time.Duration is the unit used to denote nanosecond.</h4>
</blockquote>
<h2 id=lets-talk-about-some-functions-available-in-time-pkg>Lets talk about some functions available in time pkg:</h2>
<ul>
<li>
<h3 id=func-afterd-duration--chan-time>func After(d Duration) &lt;-chan Time</h3>
<p>Returns a channel that will send the current time (t+d) where d is time duration to wait.</p>
<p><strong>Example</strong>: We will spawn a goroutine that will <code>doSomething</code>. If the <code>doSomething</code> takes more than 5 second to complete, we will get current time from <code>time.After</code> and will break out of the loop.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
        <span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>int</span>, <span style=color:#ae81ff>0</span>)
        <span style=color:#66d9ef>go</span> <span style=color:#a6e22e>doSomething</span>(<span style=color:#a6e22e>c</span>)
        <span style=color:#a6e22e>OUTER</span>:
            <span style=color:#66d9ef>for</span> {
                <span style=color:#66d9ef>select</span> {
                <span style=color:#66d9ef>case</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>:
                    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Work Done&#34;</span>)
                    <span style=color:#66d9ef>break</span> <span style=color:#a6e22e>OUTER</span> <span style=color:#75715e>// break the loop when work is done
</span><span style=color:#75715e></span>                <span style=color:#66d9ef>case</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>After</span>(<span style=color:#ae81ff>5</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Second</span>):
                    <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;timed out&#34;</span>)
                    <span style=color:#66d9ef>break</span> <span style=color:#a6e22e>OUTER</span> <span style=color:#75715e>// break the loop when timed out
</span><span style=color:#75715e></span>                }	
            }
    }


        <span style=color:#75715e>// Do some work which should finish in max 5 seconds
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Sleep</span>(<span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Second</span>)
        <span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#ae81ff>2</span>
    }


</code></pre></div></li>
</ul>
<h6 id=heading></h6>
<ul>
<li>
<h3 id=func-parsedurations-string-duration-error>func ParseDuration(s string) (Duration, error)</h3>
<p>Parses the duration from string. Valid time units are &lsquo;ns&rsquo;, &lsquo;us&rsquo; (or &lsquo;Âµs&rsquo;), &lsquo;ms&rsquo;, &rsquo;s', &rsquo;m', &lsquo;h&rsquo;.</p>
<p><strong>Example</strong>: We will parse the duration from string.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
        <span style=color:#a6e22e>complex</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>ParseDuration</span>(<span style=color:#e6db74>&#34;1h10m10s&#34;</span>)
        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;There are %.0f seconds in %v.\n&#34;</span>, <span style=color:#a6e22e>complex</span>.<span style=color:#a6e22e>Seconds</span>(), <span style=color:#a6e22e>complex</span>)
    }
</code></pre></div></li>
</ul>
<h6 id=heading-1></h6>
<ul>
<li>
<h3 id=func-d-duration-roundm-duration-duration>func (d Duration) Round(m Duration) Duration</h3>
<p>Rounds the duration to the nearest multiple of m.</p>
<p><strong>Example</strong>: We will round the duration to the nearest durations.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
        <span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>ParseDuration</span>(<span style=color:#e6db74>&#34;1h15m30.918273645s&#34;</span>)
 
        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;d.Round(%6s) = %s\n&#34;</span>, <span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>Round</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Second</span>).<span style=color:#a6e22e>String</span>()) <span style=color:#75715e>// d.Round(1s) = 1h15m31s
</span><span style=color:#75715e></span>

        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;d.Round(%6s) = %s\n&#34;</span>, <span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>Round</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Hour</span>).<span style=color:#a6e22e>String</span>()) <span style=color:#75715e>// d.Round(1h0m0s) = 1h0m0s
</span><span style=color:#75715e></span>    }
</code></pre></div></li>
</ul>
<h6 id=heading-2></h6>
<ul>
<li>
<h3 id=func-d-duration-truncatem-duration-duration>func (d Duration) Truncate(m Duration) Duration</h3>
<p>Truncates the duration to the nearest multiple of m. Similar to round up, truncate will round down to nearest multiple.</p>
<p><strong>Example</strong>: We will truncate the duration to the nearest durations.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
        <span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>ParseDuration</span>(<span style=color:#e6db74>&#34;1h15m30.918273645s&#34;</span>)
 
        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;d.Truncate(%6s) = %s\n&#34;</span>, <span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>Truncate</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Second</span>).<span style=color:#a6e22e>String</span>()) <span style=color:#75715e>// d.Truncate(1s) = 1h15m30s
</span><span style=color:#75715e></span>

        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;d.Truncate(%6s) = %s\n&#34;</span>, <span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>Truncate</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Hour</span>).<span style=color:#a6e22e>String</span>()) <span style=color:#75715e>// d.Truncate(1h0m0s) = 1h0m0s
</span><span style=color:#75715e></span>    }
</code></pre></div></li>
</ul>
<h6 id=heading-3></h6>
<ul>
<li>
<h3 id=func-newtickerd-duration-ticker>func NewTicker(d Duration) *Ticker</h3>
<p>Returns a new Ticker containing a channel that will send the time with a period specified by d.</p>
<ul>
<li><code>d</code> must be greater than 0, otherwise ticker will panic</li>
<li>To release resources, we need to stop the ticker using <code>&lt;ticker_instance>.Stop()</code></li>
</ul>
<p><strong>Example</strong>:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
 
        <span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>ticker</span>.<span style=color:#a6e22e>Stop</span>()
        <span style=color:#66d9ef>go</span> <span style=color:#66d9ef>func</span>() {
            <span style=color:#66d9ef>for</span> {
                <span style=color:#66d9ef>select</span> {
                <span style=color:#66d9ef>case</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>ticker</span>.<span style=color:#a6e22e>C</span>:
                    <span style=color:#66d9ef>go</span> <span style=color:#a6e22e>doSomething</span>()
                }
            }
        }()
    }
</code></pre></div></li>
</ul>
<h6 id=heading-4></h6>
<ul>
<li>
<h3 id=func-newtimerd-duration-timer>func NewTimer(d Duration) *Timer</h3>
<p>The Timer type represents a single event. When the Timer expires, the current time will be sent on C</p>
<p><strong>Example</strong>:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>    <span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>(){
        <span style=color:#a6e22e>timer</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>NewTimer</span>(<span style=color:#ae81ff>1</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Minute</span>)
        <span style=color:#a6e22e>ch</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>bool</span>)
        <span style=color:#66d9ef>go</span> <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>ch</span> <span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>bool</span>) {
            <span style=color:#a6e22e>_</span> = <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>timer</span>.<span style=color:#a6e22e>C</span>
            <span style=color:#a6e22e>ch</span> <span style=color:#f92672>&lt;-</span> <span style=color:#66d9ef>true</span>
        }(<span style=color:#a6e22e>ch</span>)
 
            <span style=color:#66d9ef>for</span> {
                <span style=color:#66d9ef>select</span> {
                    <span style=color:#66d9ef>case</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>ch</span>:
                        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;1 minute done&#34;</span>)
                        <span style=color:#66d9ef>break</span> <span style=color:#a6e22e>OUTER</span>
                }
            }
    }
</code></pre></div></li>
</ul>
<h6 id=heading-5></h6>
<h2 id=some-important-pointers-of-time-struct>Some important pointers of Time struct:</h2>
<ul>
<li>A Time represents an instant in time with nanosecond precision.</li>
<li>Programs using times should typically store and pass them as values, not pointers. That is, time variables and struct fields should be of type time.Time, not *time.Time.</li>
<li>A Time value can be used by multiple goroutines simultaneously except that the methods GobDecode, UnmarshalBinary, UnmarshalJSON and UnmarshalText are not concurrency-safe.</li>
<li>Time instants can be compared using the Before, After, and Equal methods.</li>
<li>(PARSING) For layouts specifying the two-digit year 06, a value NN >= 69 will be treated as 19NN and a value NN &lt; 69 will be treated as 20NN.</li>
</ul>
</div>
</article>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/thoughts>Thoughts</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
</html>