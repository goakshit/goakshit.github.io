<!doctype html><html lang>
<head>
<link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous>
<link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<title> Learning Rust Series: Code organization | </title>
<link rel=canonical href=/post/rr-rust-1/>
<meta name=description content="Software Engineer | Go | Microservices | Docker | Kubernetes | Avid Reader">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="all,follow">
<meta name=googlebot content="index,follow,snippet,archive">
<meta property="og:title" content="Learning Rust Series: Code organization">
<meta property="og:description" content="Learning Rust Series: Code organization  Prerequisites: I am hoping you have Cargo and Rust installed. If not, head to the Guide.
 In this series, I will be explaining things that I come across on my Rust learning journey. This is the first installment of the Random Rust Series which will cover code organization in rust, which is different from other languages.
Code organization is an interesting topic. Whenever I start learning a new language, this is the first thing that I look at.">
<meta property="og:type" content="article">
<meta property="og:url" content="/post/rr-rust-1/"><meta property="article:section" content="post">
<meta property="article:published_time" content="2021-11-01T10:18:22+05:30">
<meta property="article:modified_time" content="2021-11-01T10:18:22+05:30">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Learning Rust Series: Code organization">
<meta name=twitter:description content="Learning Rust Series: Code organization  Prerequisites: I am hoping you have Cargo and Rust installed. If not, head to the Guide.
 In this series, I will be explaining things that I come across on my Rust learning journey. This is the first installment of the Random Rust Series which will cover code organization in rust, which is different from other languages.
Code organization is an interesting topic. Whenever I start learning a new language, this is the first thing that I look at.">
<link rel=stylesheet href=/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]-->
<link rel=icon type=image/png href=images/favicon.ico>
</head>
<body class="max-width mx-auto px3 ltr">
<div class="content index py4">
<header id=header>
<a href>
<div id=logo style=background-image:url(https://golang.org/doc/gopher/favicon.svg)></div>
<div id=title>
<h1></h1>
</div>
</a>
<div id=nav>
<ul>
<li class=icon>
<a href=# aria-label=Menu><i class="fas fa-bars fa-2x" aria-hidden=true></i></a>
</li>
<li><a href=/>Home</a></li>
<li><a href=/thoughts>Thoughts</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</div>
</header>
<article class=post itemscope itemtype=http://schema.org/BlogPosting>
<div class=content itemprop=articleBody>
<h1 id=learning-rust-series-code-organization>Learning Rust Series: Code organization</h1>
<blockquote>
<p><strong>Prerequisites</strong>: I am hoping you have Cargo and Rust installed. If not, head to the <a href=https://doc.rust-lang.org/cargo/getting-started/installation.html>Guide</a>.</p>
</blockquote>
<p>In this series, I will be explaining things that I come across on my Rust learning journey. This is the first installment of the Random Rust Series which will cover code organization in rust, which is different from other languages.</p>
<p>Code organization is an interesting topic. Whenever I start learning a new language, this is the first thing that I look at. What are the best practices? What are the do&rsquo;s and don&rsquo;t? I try to get into best practise right away since it&rsquo;s easy to get the hang of it at the beginning than unlearning it later.</p>
<p>Let&rsquo;s get started.</p>
<h3 id=initialize-the-code>Initialize the code.</h3>
<p>To initialize the code in rust, run <code>cargo init</code>. It will create following file:</p>
<ul>
<li><code>Cargo.toml</code>: It&rsquo;s a config file for cargo which hold information about the project and dependencies.</li>
<li><code>src/main.rs</code>: Entry point for the project.</li>
</ul>
<p>To run the code, run <code>cargo run</code>. It will execute the <code>main.rs</code> file.</p>
<h4 id=lets-look-at-a-simple-example>Let&rsquo;s look at a simple example.</h4>
<p>We will create a new directory under <code>./src</code> called <code>greeting</code> which will have couple of files (<code>mod.rs</code>, <code>greet.rs</code>). The directory structure will look like as shown below:</p>
<pre tabindex=0><code>project
│   Cargo.toml
└───src
    │   main.rs
    └───greeting
        │   mod.rs
        │   greet.rs
</code></pre><p>We want to run a function <code>hello</code> in <code>greet.rs</code> file. For this, this <code>hello</code> function should be visible and accessible from the <code>main.rs</code> file. To do that, we need to add the following line to <code>greet.rs</code> file:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#75715e>// src/greeting/greet.rs
</span><span style=color:#75715e></span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>hello</span>() {
    println!(<span style=color:#e6db74>&#34;Hello, world!&#34;</span>);
}

</code></pre></div><p>The <code>pub</code> keyword is used to make the function visible from outside the module. Now that we have a public <code>hello</code> function, we need to tell <code>mod.rs</code> about the <code>greet.rs</code> file. To do that, we need to add the following line to <code>mod.rs</code> file:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#75715e>// src/greeting/mod.rs
</span><span style=color:#75715e></span><span style=color:#66d9ef>pub</span> <span style=color:#66d9ef>mod</span> greet;
</code></pre></div><p>Now we have a public module named <code>greet</code>, which is visible from the <code>main.rs</code> file. To run the <code>hello</code> function, we need to import the <code>greet</code> module. Let&rsquo;s look at that:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=color:#75715e>// src/main.rs
</span><span style=color:#75715e></span><span style=color:#66d9ef>mod</span> greeter;

<span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>main</span>() {
    greeter::greet::hello();
} 
</code></pre></div><p>In the line-1, we are importing <code>greeter</code> module. As discussed above, this module exposes the greet&rsquo;s hello function. Inside main function, we are calling the <code>hello</code> function which prints out <code>Hello, world!</code> on the console.</p>
<p>We can segregate similar logic into modules in similar way. Say, <code>greeter</code> directory can have another file called <code>good_bye.rs</code>, which should be included in the <code>mod.rs</code> file and then can be called in a similar fashion in the <code>main.rs</code> file.</p>
</div>
</article>
<footer id=footer>
<div class=footer-left>
Copyright &copy; 2021
</div>
<div class=footer-right>
<nav>
<ul>
<li><a href=/>Home</a></li>
<li><a href=/thoughts>Thoughts</a></li>
<li><a href=/tags>Tags</a></li>
<li><a href=/about>About</a></li>
</ul>
</nav>
</div>
</footer>
</div>
</body>
<link rel=stylesheet href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
</html>